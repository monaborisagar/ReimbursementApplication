

<%@ include file="html/header.jsp"%>


<div style="margin: 50px;">

	<div class="card">
		<div class="card-header">Employee page</div>
		<div class="card-body">

			<section>

				<ul class="nav nav-tabs" id="myTab" role="tablist">
					<li class="nav-item waves-effect waves-light"><a
						class="nav-link" id="home-tab" data-toggle="tab" href="#home"
						role="tab" aria-controls="home" aria-selected="false">Pending
							Reimbursement</a></li>
					<li class="nav-item waves-effect waves-light"><a
						class="nav-link" id="profile-tab" data-toggle="tab"
						href="#profile" role="tab" aria-controls="profile"
						aria-selected="false">Approved Reimbursement</a></li>
					<li class="nav-item waves-effect waves-light"><a
						class="nav-link active" id="contact-tab" data-toggle="tab"
						href="#contact" role="tab" aria-controls="contact"
						aria-selected="true">Reimbursement Policy</a></li>
				</ul>
				<div class="tab-content" id="myTabContent">
					<div class="tab-pane fade" id="home" role="tabpanel"
						aria-labelledby="home-tab">
						<br /> <br />
						<section id="pendingrequest">
							<table class="table table-striped" style="align-content: center;">
								<thead>
									<tr>
										<th scope="col">#</th>
										<th scope="col">UserName</th>
										<th scope="col">Amount</th>
										<th scope="col">Type Id</th>
										<th scope="col">Description</th>
										<th scope="col"></th>

									</tr>
								</thead>
								<tbody>
									<tr>
										<th scope="row">1</th>
										<td>Mark</td>
										<td>6788</td>
										<td>shopping</td>
										<td><textarea class="form-control rounded-0"
												id="exampleFormControlTextarea2" rows="3" col='2'>his is for movie dfvjnjfdjk dfnvjnd this is for movie
							dfvjnjfdjk dfnvjnd this is for movie dfvjnjfdjk dfnvjnd this is for movie
							dfvjnjfdjk dfnvjnd this is for movie dfvjnjfdjk dfnvjnd</textarea></td>
										<td><a href="#" class="btn btn-primary">View</a> <a
											href="#" class="btn btn-primary">Accept</a> <a href="#"
											class="btn btn-primary">Reject</a></td>
									</tr>
									<tr>
										<th scope="row">2</th>
										<td>Mark</td>
										<td>6788</td>
										<td>shopping</td>
										<td><textarea class="form-control rounded-0"
												id="exampleFormControlTextarea2" rows="3" col='2'>his is for movie dfvjnjfdjk dfnvjnd this is for movie
							dfvjnjfdjk dfnvjnd this is for movie dfvjnjfdjk dfnvjnd this is for movie
							dfvjnjfdjk dfnvjnd this is for movie dfvjnjfdjk dfnvjnd</textarea></td>
										<td><a href="#" class="btn btn-primary">View</a> <a
											href="#" class="btn btn-primary">Accept</a> <a href="#"
											class="btn btn-primary">Reject</a></td>
									</tr>
									<tr>
										<th scope="row">3</th>
										<td>Mark</td>
										<td>6788</td>
										<td>shopping</td>
										<td><textarea class="form-control rounded-0"
												id="exampleFormControlTextarea2" rows="3" col='2'>his is for movie dfvjnjfdjk dfnvjnd this is for movie
							d</textarea></td>
										<td><a href="#" class="btn btn-primary">View</a> <a
											href="#" class="btn btn-primary">Accept</a> <a href="#"
											class="btn btn-primary">Accept</a></td>
									</tr>
								</tbody>
							</table>
						</section>



					</div>
					<div class="tab-pane fade" id="profile" role="tabpanel"
						aria-labelledby="profile-tab">
						<section id="pendingrequest">
							<br /> <br />
							<table class="table table-striped" style="align-content: center;">
								<thead>
									<tr>
										<th scope="col">#</th>
										<th scope="col">UserName</th>
										<th scope="col">Amount</th>
										<th scope="col">Type Id</th>
										<th scope="col">Description</th>
										<th scope="col"></th>

									</tr>
								</thead>
								<tbody>
									<tr>
										<th scope="row">1</th>
										<td>Mark</td>
										<td>6788</td>
										<td>shopping</td>
										<td><textarea class="form-control rounded-0"
												id="exampleFormControlTextarea2" rows="3" col='2'>his is for movie dfvjnjfdjk dfnvjnd this is for movie
							dfvjnjfdjk dfnvjnd this is for movie dfvjnjfdjk dfnvjnd this is for movie
							dfvjnjfdjk dfnvjnd this is for movie dfvjnjfdjk dfnvjnd</textarea></td>
										<td><a href="#" class="btn btn-primary">View</a> <a
											href="#" class="btn btn-primary">Accept</a> <a href="#"
											class="btn btn-primary">Reject</a></td>
									</tr>
									<tr>
										<th scope="row">2</th>
										<td>Mark</td>
										<td>6788</td>
										<td>shopping</td>
										<td><textarea class="form-control rounded-0"
												id="exampleFormControlTextarea2" rows="3" col='2'>his is for movie dfvjnjfdjk dfnvjnd this is for movie
							dfvjnjfdjk dfnvjnd this is for movie dfvjnjfdjk dfnvjnd this is for movie
							dfvjnjfdjk dfnvjnd this is for movie dfvjnjfdjk dfnvjnd</textarea></td>
										<td><a href="#" class="btn btn-primary">View</a> <a
											href="#" class="btn btn-primary">Accept</a> <a href="#"
											class="btn btn-primary">Reject</a></td>
									</tr>
									<tr>
										<th scope="row">3</th>
										<td>Mark</td>
										<td>6788</td>
										<td>shopping</td>
										<td><textarea class="form-control rounded-0"
												id="exampleFormControlTextarea2" rows="3" col='2'>his is for movie dfvjnjfdjk dfnvjnd this is for movie
							d</textarea></td>
										<td><a href="#" class="btn btn-primary">View</a> <a
											href="#" class="btn btn-primary">Accept</a> <a href="#"
											class="btn btn-primary">Accept</a></td>
									</tr>
								</tbody>
							</table>
						</section>



					</div>
					<div class="tab-pane fade active show" id="contact" role="tabpanel"
						aria-labelledby="contact-tab">
						<br /> <br /> Etsy mixtape wayfarers, ethical wes anderson tofu
						before they sold out mcsweeney's organic lomo retro fanny pack
						lo-fi farm-to-table readymade. Messenger bag gentrify pitchfork
						tattooed craft beer, iphone skateboard locavore carles etsy salvia
						banksy hoodie helvetica. DIY synth PBR banksy irony. Leggings
						gentrify squid 8-bit cred pitchfork. Williamsburg banh mi whatever
						gluten-free, carles pitchfork biodiesel fixie etsy retro mlkshk
						vice blog. Scenester cred you probably haven't heard of them,
						vinyl craft beer blog stumptown. Pitchfork sustainable tofu synth
						chambray yr.
					</div>
				</div>

			</section>


		</div>
	</div>
</div>

<div style="margin: 50px;" id="pending">

	<div class="card">
		<div class="card-header">User Details</div>
		<div class="card-body">
			<!-- <h5 class="card-title">Special title treatment</h5>
			<p class="card-text">With supporting text below as a natural
				lead-in to additional content.</p>
			<a href="#" class="btn btn-primary">Go somewhere</a> -->
			<div class="alert alert-danger col-md-6" id="successmessasge" style="display: none">
				<button type="button" class="close" data-dismiss="alert"><span style="color: gray;font-size: medium;margin-bottom: 10px;">x</span></button>
				<span id="successfailureinner"> </span> 
			</div>
			<%
				if (session.getAttribute("ReimDataSuccess") != null) {
				%>
				<div class="alert alert-success col-md-6" id="reimstoredata" >
				<button type="button" class="close" data-dismiss="alert"><span style="color: gray;font-size: medium;margin-bottom: 10px;">x</span></button>
				<span id="successmess"><%=session.getAttribute("ReimDataSuccess")%> </span> 
			</div>
				<%
				session.setAttribute("ReimDataSuccess", null);}
				%>
				<%
				if (session.getAttribute("ReimbDataSaveError") != null) {
				%>
				<div class="alert alert-danger col-md-6" id="reimbdatafail" >
				<button type="button" class="close" data-dismiss="alert"><span style="color: gray;font-size: medium;margin-bottom: 10px;">x</span></button>
				<span id="failuremessage"><%=session.getAttribute("ReimbDataSaveError")%> </span> 
			</div>
				<%
				session.setAttribute("ReimbDataSaveError", null);}
				%>
			<form id="form" class="card-text" onsubmit="return validate();"enctype="multipart/form-data" method="post" action="EmployeeReimSubmit"
				>
				<!-- enctype="multipart/form-data" -->
				<!-- <div class="form-group"> -->
						<!-- method="post" action="EmployeeReimSubmit" -->
						<!-- <label for="exampleInputEmail1">UserName</label> <input
							type="text" class="form-control" id="profilefirstname"
							aria-describedby="usernamehelp" placeholder="UserName">
						<div class="usernamehelp">
							<small id="profilefirstnamehelp" class="form-text text-muted"></small>
						</div>

					</div>
					<label for="exampleInputEmail1">Email address</label> <input
						type="email" class="form-control" id="exampleInputEmail1"
						aria-describedby="emailHelp" placeholder="Enter email"> <small
						id="emailHelp" class="form-text text-muted">We'll never
						share your email with anyone else.</small>
				</div> -->

						<div class="form-group col-md-6">
							<label for="exampleInputEmail1">Amount <span
								class="redstar">*</span></label> <input type="number" 
								class="form-control" name="amount" id="reimb_user_amount"
								aria-describedby="amounthelp" placeholder="Amount" min="0"
								max="100000" step=".01" required="required"> <small id="amounthelp"
								class="form-text text-muted"></small>
						</div>

						<div class="form-group col-md-6" id="roledropdown"
							name="roledropdown">
							<label for="inputState">Reimbursement Type <span
								class="redstar">*</span></label> <select id="inputState"
								name="inputstate" name="select_reimbursement_type"
								class="form-control" required="required">
								<option value="null" >Choose...</option>
								<option value="1">Shopping</option>
								<option value="2">Certification</option>
								<option value="3">Migrate</option>

							</select>
						</div>
						<!-- <div class="form-group">
					<label for="exampleInputEmail1">Submitted Date</label> <input
						type="text" class="form-control" id="date"
						aria-describedby="datehelp" placeholder="Submiiteddate"> <small
						id="datehelp" class="form-text text-muted"></small>
				</div> -->
						<!-- <div class="form-group col-md-6">
							<label for="exampleInputEmail1">Description</label> <input
								type="text" class="form-control" id="description"
								aria-describedby="descriptionhelp" placeholder="Description">
							<small id="descriptionhelp" class="form-text text-muted"></small>
						</div> -->
						<input type="hidden" id="username" name="usernamepass"
							value=" <%=session.getAttribute("username")%>">

						<div class="form-group col-md-6">
							<label for="exampleFormControlTextarea1">Description <span
								class="redstar">*</span></label>
							<textarea class="form-control" id="exampleFormControlTextarea1"
								name="description" rows="3"></textarea>
							<small id="descriptionhelp" class="form-text text-muted"></small>
						</div>
						<div class="form-group col-md-6">
							<label for="exampleInputEmail1">Receipt Image</label> <br /> <img
								alt="no image now" src="#"> <small id="descriptionhelp"
								class="form-text text-muted"></small>
						</div>
						<label class="form-label col-md-6" for="customFile">
							Upload Receipt </label> <input type="file" name="file" value="Attach"
							id="upload" name="upload" accept=".jpg,.png,.bmp"
							class="form-group col-md-6" />



						<div class="form-group form-check ">
							<input type="checkbox" class="form-check-input"
								name="checkboxpolicy" id="exampleCheck1" required="required">
							<label class="form-check-label" for="exampleCheck1">I am
								hereBy confirm that information added by me is correct.</label>
						</div>
						<button type="submit" class="btn btn-primary" id="Accept">Accept</button>
						<button type="button" class="btn btn-primary" id="Reject" onclick="reset()">Clear</button>
			</form>

		</div>
	</div>

</div>


<script type="text/javascript">

function reset()
{
	alert("inside resdet");
	 document.getElementById("reimb_user_amount").value='';
	 document.getElementById("inputState").selectedIndex = 1; //1 = option 2

	 document.getElementById("exampleFormControlTextarea1").value='';
	 document.getElementById("upload").value='';
	 document.getElementById("exampleCheck1").value='';
	
	}
	
	function validate() {
		//seetting dropdown
		console.log("inside");
		let inputstate = document.getElementById("inputState");
		let selectedReimDropdown = inputstate.value;
		console.log("inde dropdown" + selectedReimDropdown);
		if (selectedReimDropdown == "null") {
		//	<div class="alert alert-success col-md-6" id="successmessasge">
			let successmessasge = document.getElementById("successmessasge");
			successmessasge.class = "alert alert-danger col-md-6";
			successmessasge.style.display ='block';
			let successfailurepopup = document.getElementById("successfailureinner");
			successfailurepopup.innerHTML = "Reimbursement Type value should not be Blank. ";
			//alert("dropdown value shou;d not be mu[[]]");
			return false;
		}

		//for description
		let description = document
				.getElementById("exampleFormControlTextarea1").value;
		if (description == "" || description == null) {
			let successmessasge = document.getElementById("successmessasge");
			successmessasge.class = "alert alert-danger col-md-6";
			successmessasge.style.display ='block';
			let successfailurepopup = document.getElementById("successfailureinner");
			successfailurepopup.innerHTML = "Description should not be Blank.";
			//alert("Please enter deswcription");
			
			return false;
		}

		//fileupload
		let input_element = document.getElementById("upload");
		let fileName = input_element.value;
		console.log("this is my finlename"+fileName);
		/* if(fineName =='')
			{
			successmessasge.class = "alert alert-danger col-md-6";
			successmessasge.style.display ='block';
			let successfailurepopup = document.getElementById("successfailureinner");
			successfailurepopup.innerHTML = "Please upload file.It should not be blank.";
			} */
		var allowed_extensions = new Array("jpg", "png", "gif");
		var file_extension = fileName.split('.').pop();
		var flag = 0;
		for (var i = 0; i < allowed_extensions.length; i++) {
			if (allowed_extensions[i] == file_extension) {
				flag = 1;
				return;

			}

		}
		if (flag != 1) {
			let successmessasge = document.getElementById("successmessasge");
			successmessasge.class = "alert alert-danger col-md-6";
			successmessasge.style.display ='block';
			let successfailurepopup = document.getElementById("successfailureinner");
			successfailurepopup.innerHTML = "File Format must be jpg, png, gif.";
			//alert("file format does not matrch");
			return false;
		}

		return true;

	}

	/* var phnenumber = document.getElementById("phnenumber").value;
	alert(phnenumber.length);
	var phoneno = /^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;
	if (!(phoneno).test(phnenumber)) {
		
	
		alert("phnenumber pattern is not matched ");
		return false;
	}
	
	 
	    var dob =document.getElementById("date").value;
	    alert("fdbdfb");
	    var pattern = /^(0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])[\/\-]\d{4}$/;
	    alert(dob);
	    
	    if ( !pattern.test(dob)) {
	    	
	        alert("Invalid date of birth\n");
	        return false;
	    } */

	/*  var valid=true;
	 var fileid;
	 var accept = document.getElementById("Accept");
	 var reject = document.getElementById("Reject");
	 function validate_fileupload(input_element)
	 {
	 console.log("comes inside of file");
	 // var el = document.getElementById("feedback");
	 fileid = input_element;
	 let  fileName = input_element.value;
	 var allowed_extensions = new Array("jpg","png","gif");
	 var file_extension = fileName.split('.').pop(); 
	 var flag=0;
	 for(var i = 0; i < allowed_extensions.length; i++)
	 {
	 if(allowed_extensions[i]==file_extension)
	 {
	 //valid = true; // valid file extension
	 // el.innerHTML = "Valid Format";
	 //accept.disabled = false;
	 flag=1;
	 //reject.disabled=false; 
	 return;
	
	 }
	
	 }
	 if(flag=!=1)
	 {
	 valid = false;
	 return false;
	 }
	 //  console.log("insidefv fvfefvfd reject file");
	 // el.innerHTML="Invalid file";
	 //accept.disabled = true;
	 //       reject.disabled=true; 
	 //valid = false;
	 }
	 function validationfordefault(){
	 console.log("insde change");
	 let inputstate = document.getElementById("inputState");
	 let selectedReimDropdown = inputstate.value;
	 if(selectedReimDropdown =="null" && inputstate.length ==0)
	 {valid=false;
	 return false;
	 }
	
	
	 /*  console.log(inputstate.value);
	 valid=true; */

	/*  function checkigDescriptionforblank()
	 {
	 let description = document.getElementById("exampleFormControlTextarea1");
	 if(description.value == null)
	 {
	 valid = false;
	 return false;
	 }
	
	 }
	 function valid_form()
	 {
	 validate_fileupload(input_element);
	 validationfordefault();
	 checkigDescriptionforblank();
	 return valid;
	 } */
</script>

<script type="text/javascript" src="js/getReimbursementType.js"></script>
<%@ include file="html/footer.jsp"%>